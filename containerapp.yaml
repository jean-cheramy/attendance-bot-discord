properties:
  environmentId: /subscriptions/<SUBSCRIPTION_ID>/resourceGroups/${{ env.RESOURCE_GROUP }}/providers/Microsoft.App/managedEnvironments/${{ env.ENVIRONMENT_NAME }}
  configuration:
    ingress:
      external: false
  template:
    containers:
      - name: ${CONTAINER_APP_NAME}
        image: <ACR_NAME>.azurecr.io/${CONTAINER_IMAGE_NAME}:latest
        resources:
          cpu: 0.25
          memory: 0.5Gi
        probes:
          - type: Startup
            initialDelaySeconds: 30
            periodSeconds: 10
            timeoutSeconds: 5
            failureThreshold: 10
            httpGet:
              path: /healthz/startup
              port: 8080
        env:
          - name: DISCORD_BOT_TOKEN
            value: ""
    scale:
      minReplicas: 1
